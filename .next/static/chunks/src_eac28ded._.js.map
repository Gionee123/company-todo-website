{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/intel/Desktop/cursor%20Ai/Call%20optix%20or%20Dafolks/company_task/src/config/api.js"],"sourcesContent":["// API Configuration\r\nconst baseUrl = process.env.NEXT_PUBLIC_BASE_URL || \"https://call-optix-or-dafolks.onrender.com\" || \"http://localhost:5000\";\r\n\r\nexport default baseUrl;"],"names":[],"mappings":"AAAA,oBAAoB;;;;AACJ;AAAhB,MAAM,UAAU,kFAAoC,gDAAgD;uCAErF","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/intel/Desktop/cursor%20Ai/Call%20optix%20or%20Dafolks/company_task/src/app/%28website-group%29/signup/page.js"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Link from \"next/link\";\r\nimport baseUrl from \"@/config/api\";\r\n\r\nexport default function SignupPage() {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    role: \"user\", // üëà ‡§ú‡§∞‡•Ç‡§∞‡•Ä field\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    try {\r\n      console.log('üîÑ Processing registration...');\r\n\r\n      // const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || \"http://localhost:5000\";\r\n      console.log('üîÑ Attempting registration to:', `${baseUrl}/api/frontend/users/register`);\r\n      console.log('üìù Form data:', { ...formData, password: '[HIDDEN]' });\r\n\r\n      // API call for registration using axios - match the user's API structure\r\n      const response = await axios.post(`${baseUrl}/api/frontend/users/register`, {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        password: formData.password,\r\n        role: formData.role\r\n      });\r\n\r\n      console.log('‚úÖ Registration response:', response.data);\r\n\r\n      // Check if registration was successful\r\n      if (response.data.status === false) {\r\n        setError(response.data.message || \"Registration failed. Please try again.\");\r\n        return;\r\n      }\r\n\r\n      setSuccess(\"Signup successful! Please wait for admin approval.\");\r\n\r\n      // Clear form after successful registration\r\n      setFormData({ name: \"\", email: \"\", password: \"\", role: \"user\" });\r\n\r\n    } catch (error) {\r\n      console.error('üí• Registration error:', error);\r\n\r\n      if (error.response) {\r\n        // Server responded with error status\r\n        const errorMessage = error.response.data?.message || \"Registration failed. Please try again.\";\r\n        setError(errorMessage);\r\n        console.error('‚ùå Server error:', error.response.data);\r\n      } else if (error.request) {\r\n        // Request was made but no response received\r\n        setError(\"Network error. Please check your connection and try again.\");\r\n        console.error('‚ùå Network error:', error.request);\r\n      } else {\r\n        // Something else happened\r\n        setError(\"Registration failed. Please try again.\");\r\n        console.error('‚ùå Other error:', error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md\"\r\n      >\r\n        <h1 className=\"text-2xl font-bold mb-6 text-center text-gray-800\">Signup</h1>\r\n        {error && (\r\n          <div className=\"mb-4 text-red-600 text-sm text-center\">{error}</div>\r\n        )}\r\n        {success && (\r\n          <div className=\"mb-4 text-green-600 text-sm text-center\">{success}</div>\r\n        )}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 mb-2\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"w-full border rounded px-3 py-2\"\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-gray-700 mb-2\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"w-full border rounded px-3 py-2\"\r\n            value={formData.email}\r\n            onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-6\">\r\n          <label className=\"block text-gray-700 mb-2\">Password</label>\r\n          <div className=\"relative\">\r\n            <input\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              className=\"w-full border rounded px-3 py-2\"\r\n              value={formData.password}\r\n              onChange={(e) => setFormData({ ...formData, password: e.target.value })}\r\n              required\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-blue-600 underline\"\r\n              onClick={() => setShowPassword((prev) => !prev)}\r\n              tabIndex={-1}\r\n            >\r\n              {showPassword ? \"Hide\" : \"Show\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition\"\r\n        >\r\n          Signup\r\n        </button>\r\n\r\n        <div className=\"mt-4 text-center\">\r\n          <Link href=\"/login\" className=\"text-blue-600 underline\">Already have an account? Login</Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}