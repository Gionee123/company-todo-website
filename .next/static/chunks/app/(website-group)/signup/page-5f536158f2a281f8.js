(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{66:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(5155),t=a(2115),l=a(3464);function o(){let[e,s]=(0,t.useState)({name:"",email:"",password:"",role:"user"}),[a,o]=(0,t.useState)(""),[n,i]=(0,t.useState)(""),[d,c]=(0,t.useState)(!1),m=async a=>{a.preventDefault(),o(""),i("");try{console.log("\uD83D\uDD04 Processing registration...");let a="https://company-todo-api.onrender.com";console.log("\uD83D\uDD04 Attempting registration to:","".concat(a,"/api/frontend/users/register")),console.log("\uD83D\uDCDD Form data:",{...e,password:"[HIDDEN]"});let r=await l.A.post("".concat(a,"/api/frontend/users/register"),{name:e.name,email:e.email,password:e.password,role:e.role});if(console.log("✅ Registration response:",r.data),!1===r.data.status)return void o(r.data.message||"Registration failed. Please try again.");i("Signup successful! Please wait for admin approval."),s({name:"",email:"",password:"",role:"user"})}catch(e){if(console.error("\uD83D\uDCA5 Registration error:",e),e.response){var r;o((null==(r=e.response.data)?void 0:r.message)||"Registration failed. Please try again."),console.error("❌ Server error:",e.response.data)}else e.request?(o("Network error. Please check your connection and try again."),console.error("❌ Network error:",e.request)):(o("Registration failed. Please try again."),console.error("❌ Other error:",e.message))}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("form",{onSubmit:m,className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Signup"}),a&&(0,r.jsx)("div",{className:"mb-4 text-red-600 text-sm text-center",children:a}),n&&(0,r.jsx)("div",{className:"mb-4 text-green-600 text-sm text-center",children:n}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-2",children:"Name"}),(0,r.jsx)("input",{type:"text",className:"w-full border rounded px-3 py-2",value:e.name,onChange:a=>s({...e,name:a.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",className:"w-full border rounded px-3 py-2",value:e.email,onChange:a=>s({...e,email:a.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-gray-700 mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:d?"text":"password",className:"w-full border rounded px-3 py-2",value:e.password,onChange:a=>s({...e,password:a.target.value}),required:!0,autoComplete:"new-password"}),(0,r.jsx)("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-blue-600 underline",onClick:()=>c(e=>!e),tabIndex:-1,children:d?"Hide":"Show"})]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition",children:"Signup"})]})})}},3520:(e,s,a)=>{Promise.resolve().then(a.bind(a,66))}},e=>{e.O(0,[464,441,964,358],()=>e(e.s=3520)),_N_E=e.O()}]);